(function(d){function f(a,b){this.config=d.extend({},m,b);this.element=a;this.steps=a.find(this.config.stepElement);this.config.showLegend||this.element.addClass("sf-hide-legend");this.btnFinishTmp=this.config.finishBtn;this.btnPrevTmp=this.config.prevBtn;this.btnNextTmp=this.config.nextBtn;"undefined"===typeof(document.body||document.documentElement).style.transition&&"fade"!=this.config.transition&&(this.config.duration=0);this.viewPort;this.navWrap;this.config.startStep>=this.steps.length&&(this.config.startStep=
this.steps.length-1);this.stepActive=this.config.startStep;this.labels=[];this.themes={sun:"t1",sea:"t2",sky:"t3",simple:"t4",circle:"t5"};this.init();a.trigger("sf-loaded");return this}var m={duration:1E3,transition:"slide",linkNav:!0,showNav:!0,showNavNumbers:!0,showButtons:!0,showLegend:!0,nextBtn:d('<a class="next-btn sf-right sf-btn" href="#">NEXT</a>'),prevBtn:d('<a class="prev-btn sf-left sf-btn" href="#">PREV</a>'),finishBtn:d('<input class="finish-btn sf-right sf-btn" type="submit" value="FINISH"/>'),
onNext:function(a,b){},onPrev:function(a,b){},onFinish:function(a,b){},onSlideChanged:function(a,b){},startStep:0,rtl:!1,height:"first",theme:"sea",markPrevSteps:!1,stepElement:"fieldset",stepNameElement:"legend",disableEnter:!1,smallMobileNav:!0,debug:!1,spinner:'<div class="spinner"><div class="ball-1"></div><div class="ball-2"></div><div class="ball-3"></div></div>'};f.prototype.init=function(){var a=this;a.element.append(d("<div>").addClass("sf-viewport"));a.viewPort=d(".sf-viewport",a.element);
a.element.wrap(d("<div>",{"class":"sf-wizard clearfix"+(a.config.rtl?" sf-rtl":""),id:a.element.attr("id")+"-box"}));a.wizard=a.element.parent();a.wizard.addClass("sf-"+a.themes[a.config.theme]+" sf-"+a.config.transition+" sf-s-"+a.config.startStep);/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?a.wizard.addClass("sf-mob"):a.wizard.addClass("sf-nomob");a.config.showNavNumbers||a.wizard.addClass("sf-nonumbers");d(a.viewPort).append(d("<div>",{"class":"sf-fieldwrap clearfix",
id:a.element.attr("id")+"-field"}));a.fieldWrap=d(".sf-fieldwrap",a.element);a.fieldWrap.css({transition:"transform "+a.config.duration+"ms"});var b=d("<div>",{"class":"sf-controls clearfix"});"bottom"==a.config.showNav?b.insertBefore(d(".sf-viewport",a.wizard)):a.element.append(b);a.controls=d(".sf-controls",a.element);"circle"==a.config.theme&&a.viewPort.wrap(d("<div>",{"class":"sf-viewport-out"}));a.config.showButtons||a.controls.addClass("sf-hide-buttons");d(a.config.stepNameElement,a.element).addClass("sf-step-name");
a.touch={start:0,movex:0,move:0,index:0,longTouch:void 0,offset:0,navWidth:0,diff:0};!1!==a.config.showNav&&(a.initNav(),"bottom"==a.config.showNav||"top"==a.config.showNav||1==a.config.showNav)&&(a.initTouchNav(),setTimeout(function(){d(".sf-nav").css({clear:"both"})},3E3));a.steps.each(function(b){a.wrapStep(this,b)});a.initBtnFinish(a.config.startStep);a.initBtnNext(a.config.startStep);a.initBtnPrev(a.config.startStep);a.checkBtns();a.setProportion();d(window).resize(function(){a.careNav(a.stepActive,
a.stepActive);a.setProportion()});a.addBtnsClick();a.element.on("keydown",":input:not(textarea)",function(b){13==(b.keyCode||b.which)&&(b.preventDefault(),a.config.disableEnter||a.next())})};f.prototype.initTouchNav=function(){var a=this;d(".sf-nav",a.wizard).on("touchstart",function(b){a.touch=a.touch;a.touch.longTouch=!1;d(".sf-nav",a.navWrap).css({transition:"none"});a.touch.start=b.originalEvent.touches[0].pageX});d(".sf-nav",a.wizard).on("touchmove",function(b){a.touch=a.touch;a.touch.movex=
b.originalEvent.touches[0].pageX;a.touch.move=a.touch.start-a.touch.movex;a.touch.diff=parseInt(a.touch.offset,10)-a.touch.move;0<a.touch.diff&&(a.touch.diff=0);a.touch.diff<-a.touch.navWidth&&(a.touch.diff=-a.touch.navWidth);prop="translateX("+a.touch.diff+"px)";d(".sf-nav",a.navWrap).css({"-webkit-transform":prop,"-moz-transform":prop,"-ms-transform":prop,"-o-transform":prop,transform:prop})});d(".sf-nav",a.wizard).on("touchend",function(b){a.touch.offset=a.touch.diff;d(".sf-nav",a.navWrap).css({transition:"all "+
a.config.duration+"ms"})})};f.prototype.step=function(a){return d(".sf-step",this.wizard).filter(function(){return d(this).data("step")==a})};f.prototype.navStep=function(a){return d(".sf-nav-step",this.wizard).filter(function(){return d(this).data("step")==a})};f.prototype.wrapStep=function(a,b){d(a).addClass("sf-step-el");var e=d("<div>",{"class":"sf-step"}).data("step",b);b==this.config.startStep&&e.addClass("sf-step-front");d(a).wrap(e).parent().appendTo(this.fieldWrap)};f.prototype.addStep=function(a,
b){var e=this;a=parseInt(a);var c=e.config.stepElement.match(/(^\.)?(.+)/),g;"undefined"!==typeof c[1]&&(g=d("<div>",{"class":c[1]}));"undefined"===typeof c[1]&&(g=d("<"+c[2]+">"));g.html(b);d(".sf-step",e.wizard).each(function(){var b=d(this).data("step");b>=a&&d(this).data("step",++b)});d(".sf-nav-step",e.wizard).each(function(){var b=d(this).data("step");b>=a&&(d(this).data("step",++b),e.stepActive+1!=b&&d(this).removeClass("sf-active"),d(this).find(".sf-nav-number-inner").text(b+1))});a<=e.stepActive&&
e.stepActive++;e.config.startStep=e.stepActive;e.wrapStep(g,a);e.wrapNavItem(e.step(a),a);e.addNavClick();e.checkBtns();e.setProportion()};f.prototype.removeStep=function(a){var b=this,e=b.step(a),c=b.navStep(a);if(b.stepActive==a)return b.log("You can't remove active step"),!1;e.remove();c.hide(300);b.addAnimating();setTimeout(function(){c.remove();b.removeAnimating()},300);d(".sf-step",b.wizard).each(function(){var b=d(this).data("step");b>=a&&d(this).data("step",--b)});d(".sf-nav-step",b.wizard).each(function(){var c=
d(this).data("step");c>=a&&(d(this).data("step",--c),b.stepActive!=c&&d(this).removeClass("sf-active"),d(this).find(".sf-nav-number-inner").text(c+1))});b.stepActive>a&&(b.stepActive--,b.navStep(b.stepActive).addClass("sf-active"));b.config.startStep=b.stepActive;b.checkBtns();b.setProportion()};f.prototype.checkBtns=function(){!1!==this.checkNext()?this.btnNext.fadeIn(100):this.btnNext.fadeOut(0);!1!==this.checkPrev()?this.btnPrev.fadeIn(100):this.btnPrev.fadeOut(100);!1===this.checkNext()?this.btnFinish.fadeIn(100):
this.btnFinish.fadeOut(0);this.btnNext.hasClass("sf-btn-disabled")?this.addClickNext(!1):this.addClickNext();this.btnPrev.hasClass("sf-btn-disabled")?this.addClickPrev(!1):this.addClickPrev();this.btnFinish.hasClass("sf-btn-disabled")?this.addClickFinish(!1):this.addClickFinish()};f.prototype.checkNext=function(){var a=this,b=99;d(".sf-step",a.wizard).each(function(){var e=d(this);a.stepActive<e.data("step")&&!e.hasClass("sf-step-disabled")&&e.data("step")<b&&(b=e.data("step"))});return 99>b?b:!1};
f.prototype.checkPrev=function(){var a=this;if(1>a.stepActive)return!1;var b=0;d(".sf-step",a.wizard).each(function(){var e=d(this);a.stepActive>e.data("step")&&!e.hasClass("sf-step-disabled")&&e.data("step")>b&&(b=e.data("step"))});return 0<=b?b:!1};f.prototype.touchFix=function(a){var b=d(a).next();d(a).remove();setTimeout(function(){b.before(a)},1)};f.prototype.addBtnsClick=function(){this.addClickNext();this.addClickPrev();this.addClickFinish()};f.prototype.addClickNext=function(a){var b=this;
b.touchFix(b);d(b.wizard).off("click",".next-btn");d(b.wizard).on("click",".next-btn",function(d,c){"undefined"!==typeof a&&!0!==a||b.goTo("next",c);d.preventDefault()})};f.prototype.addClickPrev=function(a){var b=this;d(b.wizard).off("click",".prev-btn");d(b.wizard).on("click",".prev-btn",function(d,c){"undefined"!==typeof a&&!0!==a||b.goTo("prev",c);d.preventDefault()})};f.prototype.addClickFinish=function(a){var b=this;d(b.wizard).off("click",".finish-btn");d(b.wizard).on("click",".finish-btn",
function(d,c){"undefined"!==typeof a&&!0!==a||b.finish(c);d.preventDefault()})};f.prototype.addSpinner=function(a,b){!1===b?("next"==a&&this.nextLabel(this.labels.next),"prev"==a&&this.prevLabel(this.labels.prev),"finish"==a&&this.finishLabel(this.labels.finish),isNaN(a)||this.navLabel(a,this.labels[a])):("next"==a&&(this.labels.next=this.nextLabel(),this.nextLabel(this.config.spinner)),"prev"==a&&(this.labels.prev=this.prevLabel(),this.prevLabel(this.config.spinner)),"finish"==a&&(this.labels.finish=
this.finishLabel(),this.finishLabel(this.config.spinner)),isNaN(a)||(this.labels[a]=this.navLabel(a),this.navLabel(a,this.config.spinner)))};f.prototype.isAnimating=function(){return this.wizard.hasClass("sf-animating")?!0:!1};f.prototype.addAnimating=function(){this.wizard.addClass("sf-animating")};f.prototype.removeAnimating=function(){this.wizard.removeClass("sf-animating")};f.prototype.stopTransitionEffect=function(){this.element.find(".sf-fieldwrap").removeAttr("style");this.element.find(".sf-fieldwrap").attr("style",
"")};f.prototype.startTransitionEffect=function(a){var b=this;setTimeout(function(){b.element.find(".sf-fieldwrap").css({transition:"transform "+b.config.duration+"ms"});a&&b.removeAnimating()},150)};f.prototype.markStep=function(a,b){0==b?this.navStep(a).removeClass("sf-nav-mark-step"):this.navStep(a).addClass("sf-nav-mark-step")};f.prototype.disableStep=function(a,b){"next"==a&&this.step(this.stepActive+1).length&&(a=this.stepActive+1);"prev"==a&&this.step(this.stepActive-1).length&&(a=this.stepActive-
1);!1===b?(this.step(a).removeClass("sf-step-disabled"),this.navStep(a).removeClass("sf-nav-step-disabled")):(this.step(a).addClass("sf-step-disabled"),this.navStep(a).addClass("sf-nav-step-disabled"));this.checkBtns()};f.prototype.activeStep=function(a,b){!1===b?this.navStep(a).addClass("sf-nav-unlink").removeClass("sf-nav-link"):this.navStep(a).addClass("sf-nav-link").removeClass("sf-nav-unlink");this.addNavClick()};f.prototype.activeNext=function(a,b){0==a?(this.btnNext.addClass("sf-btn-disabled"),
0==b&&this.activeFinish(!1)):(this.btnNext.removeClass("sf-btn-disabled"),"undefined"!==typeof b&&1!=b||this.activeFinish());this.checkBtns()};f.prototype.activePrev=function(a){0==a?this.btnPrev.addClass("sf-btn-disabled"):this.btnPrev.removeClass("sf-btn-disabled");this.checkBtns()};f.prototype.activeFinish=function(a){0==a?this.btnFinish.addClass("sf-btn-disabled"):this.btnFinish.removeClass("sf-btn-disabled");this.checkBtns()};f.prototype.navLabel=function(a,b){if("undefined"===typeof b)return this.navStep(a).find(".sf-nav-subtext").html();
this.navStep(a).find(".sf-nav-subtext").html(b);this.setNavWidth()};f.prototype.navNumber=function(a,b){this.navStep(a).find(".sf-nav-number").html(b)};f.prototype.nextLabel=function(a){if("undefined"===typeof a)return this.btnNext.html();this.btnNext.html(a)};f.prototype.prevLabel=function(a){if("undefined"===typeof a)return this.btnPrev.html();this.btnPrev.html(a)};f.prototype.finishLabel=function(a){if("undefined"===typeof a)return this.btnFinish.is(":input")?this.btnFinish.val():this.btnFinish.html();
this.btnFinish.is(":input")?this.btnFinish.val(a):this.btnFinish.html(a)};f.prototype.getActualStep=function(){return this.stepActive};f.prototype.initNav=function(){var a=this,b=d("<div>").addClass("sf-nav-wrap clearfix");a.config.smallMobileNav&&b.addClass("sf-nav-smmob");var e=d("<ul>").addClass("sf-nav clearfix");b.append(e);"bottom"==a.config.showNav?this.element.after(b):this.element.before(b);this.navWrap=d(".sf-nav-wrap",a.wizard);this.steps.each(function(b){a.wrapNavItem(this,b)});this.addNavClick();
this.careNav(this.stepActive,this.stepActive)};f.prototype.addNavClick=function(){var a=this;d(".sf-nav-step",a.wizard).off("click");d(".sf-nav-step.sf-nav-link",a.wizard).on("click",a.wizard,function(b){a.goTo(d(this).data("step"));b.preventDefault()})};f.prototype.wrapNavItem=function(a,b){var e=this,c=d("<li>",{"class":"sf-nav-step",data:{step:b}});e.config.markPrevSteps&&b<e.config.startStep&&c.addClass("sf-nav-mark-step");e.config.showNavNumbers?(c.addClass("sf-li-number"),8<b&&c.addClass("sf-li-numbers-two")):
c.addClass("sf-li-nonumber");d("<span>").addClass("sf-nav-subtext").html(d(a).find(e.config.stepNameElement).first().html()).appendTo(c);var g=d("<div>").addClass("sf-nav-number").appendTo(c);d("<span>").addClass("sf-nav-number-inner").html(b+1).appendTo(g);d("<div>").appendTo(c);b==e.config.startStep&&c.addClass("sf-active");1==e.config.linkNav?c.addClass("sf-nav-link"):"prev"==e.config.linkNav&&e.stepActive>=b?c.addClass("sf-nav-link"):c.addClass("sf-nav-unlink");g=d(".sf-nav-wrap",e.wizard);"left"==
e.config.showNav&&(g.addClass("sf-nav-left"),e.element.addClass("sf-nav-on-left"));"right"==e.config.showNav&&(g.addClass("sf-nav-right"),e.element.addClass("sf-nav-on-right"));if("top"==e.config.showNav||!0===e.config.showNav)g.addClass("sf-nav-top"),e.element.addClass("sf-nav-on-top");"bottom"==e.config.showNav&&(g.addClass("sf-nav-bottom"),e.element.addClass("sf-nav-on-bottom"));e.element.addClass("sf-content");e.navStep(b+1).length?(e.navStep(b+1).before(c),e.setNavWidth(),c.css({display:"none"}),
c.show(300),setTimeout(function(){e.careNav(e.stepActive,e.stepActive)},300)):e.wizard.find(".sf-nav").append(c)};f.prototype.setProportion=function(a){"undefined"!==typeof a&&0!=a||this.stopTransitionEffect();this.stepWidth=this.viewPort.width();var b=0,e=0;"auto"==this.config.height&&"3d-cube"!=this.config.transition&&this.steps.length&&(this.step(this.stepActive).height("auto"),a=this.step(this.stepActive).outerHeight(),this.viewPort.height(a),b=a);"first"==this.config.height&&this.steps.length&&
(this.step(0).height("auto"),b=this.step(0).height(),this.viewPort.height(this.step(0).outerHeight()));!isNaN(parseInt(this.config.height))&&this.steps.length&&(b=this.config.height,this.viewPort.height(b),this.step(0).height(b),a=this.step(0).outerHeight(!0),b=2*b-a);if("tallest"==this.config.height||"auto"==this.config.height&&"3d-cube"==this.config.transition&&this.steps.length)d(".sf-step",this.wizard).each(function(a){d(this).css({height:"auto",display:"block"});d(this).height()>b&&(b=d(this).height(),
e=d(this));d(this).css("display","")}),this.viewPort.height(e.outerHeight());a=" translateZ( "+this.stepWidth/2+"px )";d("#sf-"+this.element.attr("id")+"-styles").remove();var c="#"+this.element.attr("id")+" .sf-fieldwrap ";"3d-cube"==this.config.transition?d("<style type='text/css' id='sf-"+this.element.attr("id")+"-styles'>"+c+" {transform: rotateY( 0deg ) translateZ( -"+this.stepWidth/2+"px );}"+c+" .sf-step.sf-step-front{transform: rotateY( 0deg )"+a+"}"+c+" .sf-step.sf-step-right{transform: rotateY( 90deg )"+
a+"}"+c+" .sf-step.sf-step-left{transform: rotateY( -90deg )"+a+"}</style>").appendTo("head"):"slide"==this.config.transition&&d("<style type='text/css' id='sf-"+this.element.attr("id")+"-styles'>"+c+" {}"+c+" .sf-step.sf-step-front{}"+c+" .sf-step.sf-step-right{transform: translateX("+this.stepWidth+"px)}"+c+" .sf-step.sf-step-left{transform: translateX(-"+this.stepWidth+"px)}</style>").appendTo("head");b&&d(".sf-step",this.wizard).each(function(a){d(this).height(b)});this.startTransitionEffect()};
f.prototype.goTo=function(a,b,e){var c=this;if(isNaN(a))if("next"==a){if(c.stepActive==d(".sf-step").length-1){if("undefined"!==typeof e&&e)return this.finish(b);this.log("last step - add parameter if you want finish");return!1}a=c.checkNext()}else if("prev"==a){if(1>c.stepActive)return this.log("first step - there is no more prev step"),!1;a=c.checkPrev()}else return!1;if(a>=d(".sf-step",c.wizard).length||!1===a||c.step(a).is(".sf-step-disabled")||this.isAnimating()||this.stepActive==a)return!1;
var g=this.stepActive;if(g>a)for(var f=g;f>a;f--)e=c.step(f),e.hasClass("sf-step-disabled")||!1===c.config.onPrev(f,b)&&(a=f);if(g<a)for(f=g;f<a;f++)e=c.step(f),e.hasClass("sf-step-disabled")||!1===c.config.onNext(f,b)&&(a=f);if(g==a)return!1;this.addAnimating();0!=c.config.linkNav&&c.activeStep(a);"summary"==c.step(a).find(c.config.stepElement).attr("data-sf-step")&&c.summaryStep(a);e=jQuery.Event("sf-step-before");c.element.trigger(e,[g,a,b]);if(e.isDefaultPrevented())return c.removeAnimating(),
!1;c.wizard.removeClass("sf-s-"+g).addClass("sf-s-trans-"+a);c.config.markPrevSteps&&d(".sf-nav-step",c.navWrap).each(function(b){d(this).removeClass("sf-nav-mark-step");b<a&&d(this).addClass("sf-nav-mark-step")});this.careNav(a,g);c.element.find(".sf-step").removeClass("sf-step-front sf-step-right sf-step-left");c.step(g).addClass("sf-step-front");stepShift="";g<a?c.config.rtl?c.step(a).addClass("sf-step-left"):(stepShift="-",c.step(a).addClass("sf-step-right")):c.config.rtl?(stepShift="-",c.step(a).addClass("sf-step-right")):
c.step(a).addClass("sf-step-left");"3d-cube"==c.config.transition?!1!==c.isSupportTransition()?(d("#sf-"+c.element.attr("id")+"-trans-styles").remove(),e="#"+c.element.attr("id")+" .sf-fieldwrap",d("<style type='text/css' id='sf-"+c.element.attr("id")+"-trans-styles'>@keyframes cube-"+c.element.attr("id")+" {33% {transform: translateZ(-"+(c.stepWidth-c.stepWidth/4)+"px)}66% {transform: translateZ(-"+(c.stepWidth-c.stepWidth/4)+"px) rotateY("+stepShift+"90deg)}100% {transform: translateZ(-"+c.stepWidth/
2+"px) rotateY("+stepShift+"90deg)}}"+e+".sf-trans-cube-process {animation-name: cube-"+c.element.attr("id")+";animation-duration: "+this.config.duration+"ms;}</style>").appendTo("head"),d(".sf-fieldwrap",this.wizard).addClass("sf-trans-cube-process"),setTimeout(function(){d(".sf-fieldwrap",this.wizard).removeClass("sf-trans-cube-process");c.afterTransition(c.stepActive,a,b)},this.config.duration)):c.afterTransition(c.stepActive,a,b):"fade"==c.config.transition?(c.step(c.stepActive).fadeOut(c.config.duration/
2),setTimeout(function(){c.step(a).fadeIn(c.config.duration/2)},c.config.duration/2),setTimeout(function(){c.afterTransition(a,a,b)},c.config.duration)):"slide"==c.config.transition?!1!==c.isSupportTransition()?(d("#sf-"+c.element.attr("id")+"-trans-styles").remove(),e="#"+c.element.attr("id")+" .sf-fieldwrap",d("<style type='text/css' id='sf-"+c.element.attr("id")+"-trans-styles'>@keyframes slide-"+c.element.attr("id")+" {100% {transform: translateX("+stepShift+c.stepWidth+"px)}}"+e+".sf-trans-slide-process {animation-name: slide-"+
c.element.attr("id")+";animation-duration: "+this.config.duration+"ms;}</style>").appendTo("head"),d(".sf-fieldwrap",this.wizard).addClass("sf-trans-slide-process"),setTimeout(function(){d(".sf-fieldwrap",this.wizard).removeClass("sf-trans-slide-process");c.afterTransition(c.stepActive,a,b)},this.config.duration)):c.afterTransition(c.stepActive,a,b):"none"==c.config.transition&&c.afterTransition(a,a,b);c.stepActive=a;d(".sf-nav-step",c.wizard).removeClass("sf-active");c.navStep(a).addClass("sf-active");
"auto"==c.config.height&&c.steps.length&&"3d-cube"!=c.config.transition&&(e=c.step(c.stepActive),e.height("auto"),g=e.height(),f=c.step(c.stepActive).outerHeight(!0),c.viewPort.height(f),e.height(g));c.checkBtns();return!0};f.prototype.isSupportTransition=function(){return"undefined"===typeof(document.body||document.documentElement).style.transition?!1:!0};f.prototype.afterTransition=function(a,b,d){this.stopTransitionEffect();this.wizard.removeClass("sf-s-trans-"+a).addClass("sf-s-"+a);this.element.find(".sf-step").removeClass("sf-step-front sf-step-right sf-step-left");
this.step(a).addClass("sf-step-front");this.startTransitionEffect(!0);this.config.onSlideChanged(a,d);this.element.trigger("sf-step-after",[this.stepActive,d])};f.prototype.summaryStep=function(a){for(var b=this.step(a).html(),b=b.replace(/({{)([^}]+)(}})/g,'<span data-sf-input="$2"></span>'),e=/<span data-sf-input="([^"|]+)\|?([^"]+)?"/g,c;null!==(c=e.exec(b));){c.index===e.lastIndex&&e.lastIndex++;var f=d('[name="'+c[1]+'"]',this.wizard),k=[];f.is("select")&&(f=f.find("option"));if(1<f.length){var h=
!1;f.each(function(){var a=d(this);if(a.is(":checkbox")||a.is(":radio")||a.is("option")){if(a.is(":checked")){var b=d(this).data("sf-text");"undefined"!==typeof b&&!1!==b?k.push(b):k.push(a.val());h=!0}}else k.push(a.val())});f=k.join(", ");h||(f="undefined"===typeof c[2]?"---":c[2])}else if(f.is(":checkbox")||f.is(":radio"))if(f.is(":checked"))var l=f.attr("data-sf-text"),f="undefined"!==typeof l&&!1!==l?l:f.val();else f="undefined"===typeof c[2]?"---":c[2];else f=""==f.val()&&"undefined"!==typeof c[2]?
c[2]:f.val();c=c[0].replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");b=b.replace(new RegExp("("+c+">)(.*?)(</span>)","g"),"$1"+f+"$3")}this.step(a).html(b)};f.prototype.careNav=function(a,b){if(!1!==this.config.showNav){var e=this.navWrap.width(),c=[];if(!0===this.config.showNav||"top"==this.config.showNav||"bottom"==this.config.showNav){var f=0,k=0;d(".sf-nav-step",this.navWrap).each(function(b){c[b]=d(this).outerWidth(!0);k+=c[b];b<a&&(f+=c[b])});0<=b-a&&(f-=0<a?c[a-1]:0);this.touch.navWidth=
!1;if(k>e){var h=this.touch.navWidth=k-e,e=a-1,l=0;0>=b-a&&(e=a+1,l=-80);f+l>h&&(f=h,l=0);var m=this.navStep(e);d(".sf-nav",this.navWrap).css({transition:"all "+this.config.duration+"ms"});var n=this.config.rtl?"":"-",h=0;m.length?(h=n+(f+l),0>f+l&&(h=0),e="translateX("+h+"px)"):0>e?e="translateX(0px)":(h=n+f,e="translateX("+h+"px)");this.touch.offset=h;d(".sf-nav",this.navWrap).css({"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,"-o-transform":e,transform:e})}}else this.setNavWidth()}};
f.prototype.setNavWidth=function(){var a=this,b=0;if("left"==a.config.showNav||"right"==a.config.showNav){d(".sf-nav-step",a.navWrap).each(function(c){a.navWrap.css("width","9999px");c=d(this).attr("style");var e=d(this).css({"float":"left",display:"block",width:"auto","white-space":"nowrap"}).outerWidth(!0);a.navWrap.css("width","");d(this).removeAttr("style").attr("style",c);b<e&&(b=e)});var b=b+2,e=a.element.closest(".sf-wizard").width()-b;e--;a.element.css({width:e+"px","float":""});a.navWrap.hasClass("sf-nav-left")&&
a.element.css({"margin-left":"auto","float":"left"});a.navWrap.css("width",b+"px")}};f.prototype.refresh=function(){this.careNav(this.stepActive,this.stepActive);this.setProportion(!0)};f.prototype.initBtnNext=function(){this.btnNext=this.btnNextTmp.clone(!0).addClass("sf-btn-next");this.btnNext.appendTo(d(this.controls))};f.prototype.initBtnPrev=function(){this.btnPrev=this.btnPrevTmp.clone(!0).addClass("sf-btn-prev");this.btnPrev.appendTo(d(this.controls))};f.prototype.initBtnFinish=function(){this.btnFinish=
this.btnFinishTmp.clone(!0).addClass("sf-btn-finish");this.btnFinish.appendTo(d(this.controls))};f.prototype.next=function(a,b){return this.goTo("next",b,a)};f.prototype.prev=function(a){return this.goTo("prev",a)};f.prototype.finish=function(a){var b=!0;!1===this.config.onFinish(this.stepActive,a)&&(b=!1,this.log("Stopped by onFinish"));var d=jQuery.Event("sf-finish");this.element.trigger(d,[this.stepActive,a]);d.isDefaultPrevented()&&(b=!1,this.log("Stopped by event sf-finish"));b&&this.element.submit();
return b};f.prototype.log=function(a){!0===this.config.debug&&console.log(a)};d.fn.stepFormWizard=function(a){var b=this.data("step-form-wizard");b||(b=new f(this.first(),a),this.data("step-form-wizard",b));return b}})(jQuery);
